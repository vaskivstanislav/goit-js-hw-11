{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = \"https://pixabay.com/api/\";\n\nexport const API_KEY = \"46069437-f48122ef32c6bd1c27031b929\";\n\nexport function fetchPixabay(searchQuery) {\n    const URL = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(searchQuery)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n    return fetch(URL)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n        }\n        return response.json();\n      });\n  }","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 200,\n});\n\nexport function createMarkup({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n  return `\n    <div class=\"card\">\n      <div class=\"card-image\">\n        <a href=\"${largeImageURL}\" class=\"gallery-item-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n      </div>\n      <div class=\"card-body\">\n        <p class=\"card-text\">Likes ${likes}</p>\n        <p class=\"card-text\">Views ${views}</p>\n        <p class=\"card-text\">Comments ${comments}</p>\n        <p class=\"card-text\">Downloads ${downloads}</p>\n      </div>\n    </div>`;\n}\n\nexport function renderImages(images, container) {\n  const imagesMarkup = images.map(createMarkup).join('');\n  container.innerHTML = imagesMarkup;\n\n  lightbox.refresh();  \n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchPixabay } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\nconst refs = {\n  form: document.querySelector(\".form\"),\n  gallery: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\"),\n};\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value.trim();\n\n  if (query === \"\") {\n    iziToast.show({\n      title: 'Oops',\n      message: \"Sorry, there are no images matching your search query. Please try again!\",\n      color: \"#ef4040\",\n      position: \"bottomCenter\"\n    });\n    return;\n  }\n\n  refs.gallery.innerHTML = \"\";\n  showLoader();\n\n  fetchPixabay(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          title: 'No results',\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          color: \"#ef4040\",\n          position: \"bottomCenter\"\n        });\n      } else {\n        renderImages(data.hits, refs.gallery);\n      }\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Error',\n        message: \"Something went wrong. Please try again later.\",\n        color: \"#ef4040\",\n        position: \"bottomCenter\"\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      refs.form.reset();\n    });\n}\nfunction showLoader() {\n  refs.loader.classList.remove(\"hidden\");\n}\n\nfunction hideLoader() {\n  refs.loader.classList.add(\"hidden\");\n}"],"names":["BASE_URL","API_KEY","fetchPixabay","searchQuery","URL","response","lightbox","SimpleLightbox","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImages","images","container","imagesMarkup","refs","onFormSubmit","event","query","iziToast","showLoader","data","error","hideLoader"],"mappings":"6vBAAO,MAAMA,EAAW,2BAEXC,EAAU,qCAEhB,SAASC,EAAaC,EAAa,CACtC,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAM,mBAAmBE,CAAW,CAAC,2DAE3E,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,0EAA0E,EAE5F,OAAOA,EAAS,MACxB,CAAO,CACP,CCXA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAa,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACrG,MAAO;AAAA;AAAA;AAAA,mBAGUL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qCAIXC,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA,WAGlD,CAEO,SAASC,EAAaC,EAAQC,EAAW,CAC9C,MAAMC,EAAeF,EAAO,IAAIT,CAAY,EAAE,KAAK,EAAE,EACrDU,EAAU,UAAYC,EAEtBb,EAAS,QAAO,CAClB,CCzBA,MAAMc,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAAM,OAEvD,GAAIC,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,2EACT,MAAO,UACP,SAAU,cAChB,CAAK,EACD,MACD,CAEDJ,EAAK,QAAQ,UAAY,GACzBK,IAEAvB,EAAaqB,CAAK,EACf,KAAKG,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBF,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,2EACT,MAAO,UACP,SAAU,cACpB,CAAS,EAEDR,EAAaU,EAAK,KAAMN,EAAK,OAAO,CAE5C,CAAK,EACA,MAAMO,GAAS,CACdH,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,gDACT,MAAO,UACP,SAAU,cAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbI,IACAR,EAAK,KAAK,OAChB,CAAK,CACL,CACA,SAASK,GAAa,CACpBL,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEA,SAASQ,GAAa,CACpBR,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC"}